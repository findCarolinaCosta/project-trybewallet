(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{29:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAAfElEQVQ4y9WSuw2AMAxE3xCYmhnCEpkf0yPBALCBaVLxtREFnLv4XnR2Aj9Qw4CVGmiurHZR7wAPFL7/EeA52zRbKgCE5AFaFjoEQZlJ90BNj9GhGIp4IgmKFbtrhiAgJYw7UmJGI0NDQiJrDT3cePgxxnMgM+3sE5lvawVVZ5NtNyEbWgAAAABJRU5ErkJggg=="},30:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAAYUlEQVQ4y2NgGILAneERQycpyr8z/AfCycRqqAQrB8FOYkyPB5I1UA2PiHHMX4YEqJbvQD5RbodoqSRO+WSGMrgWopQzAjHRjhlVjg2QqJwBHKskKGeAp0kilTOQqnxQAQAKGVrViCtWoAAAAABJRU5ErkJggg=="},31:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAqklEQVRYw+2XTQqAIBCF36pLGESnzYsYdDDdVGewVa3KhslHRPNcCTof6PwCJlNttRiRkJUrIcCVza9q4/taSojxsfmMjHANiFUA8RqwH9Hq9r4BKgAcgiBOOi3AYRH50YxeBwhiV510AHmcrDqAxAmKZ/4GaDAgIWFAwwH4Y+85gHiaP78EoD8R/ZMt0N5IdvR0TS849JJpbQsfQG9+6e07fQChj1Amk0YbsQy74VbuNlYAAAAASUVORK5CYII="},32:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABf0lEQVR4Ae3YAwheURiA4V+zcrOZMSPNRhjjGGbbtu0tc7Zt27atb2+ury7Gc+7feeuJ174nlna5XC6XeEj3HXA74HagGsZDPPRGQVhXXZyFhPAFC5ATxktgBuQ3XEF+GG0KxMNzXMJlvIRAO4tMMFIl/FAb9A0zUAq6CtgBUQbBSKsgSiv4lcI+Nc8jJGMGuqs25DDCVBuilIsZ6JPaiGUIUy6I0iZmoHtqI44iUq2FKH0QmZpBoG1ABUSi9RAP5zECVRCHlWXHLkiAh1iAmkjBqlIYik+QEG6iE5KwqjyYhEeQEI6gCKwrhRqYhHMQHw9QElaXH118duY4MsD6EmiHdxClNSJTXYiyAZHqmNqBWzYcxSII22o17yf81wpBlO4I20E17yMbLoMXKIOg6kH/yW2MGagxRHmNfsgHXSGMwmeI0gJGWgTx8AiXcBmPIR62Ig4jpTAX8pt2IReMVw9nICE9QTckYVWVMRriYSYaIaMb3HU74HbA5XK50qWfhFc+q5dTlmYAAAAASUVORK5CYII="},37:function(e,t,a){e.exports=a(52)},46:function(e,t,a){},48:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),l=a.n(c),i=a(35),o=a(3),s=(a(46),a(9)),u=a(10),m=a(12),d=a(11),p=a(2),h=a(16),E=a(4),b=a(14),f=a.n(b),g=a(17),v=function(){var e=Object(g.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://economia.awesomeapi.com.br/json/all");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",t.ok?Promise.resolve(a):Promise.reject(a));case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),A=function(e,t){return{type:"GET_EXPENSES",expenses:e,response:t}},y=function(e){return{type:"SET_UPDATE_EXPENSES",updateForExpenses:e}};a(48);var j=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={email:"",password:"",redirect:!1},e.handleChange=e.handleChange.bind(Object(E.a)(e)),e.handleClick=e.handleClick.bind(Object(E.a)(e)),e}return Object(u.a)(a,[{key:"getDisabled",value:function(){var e=this.state,t=e.email,a=e.password;return/\S+@\S+\.\S+/.test(t)&&a.length>=6}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(h.a)({},a,n))}},{key:"handleClick",value:function(){var e=this.state.email,t=this.props.saveLogin;this.setState({redirect:!0}),t(e)}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(p.a,{to:"/carteira"}):r.a.createElement("div",{className:"flex-login"},r.a.createElement("div",{className:"container-login"},r.a.createElement("h1",{className:"login-h1"},"Login"),r.a.createElement("form",{className:"login-form"},r.a.createElement("div",{className:"div-input"},r.a.createElement("span",{className:"txt1"},"Email")),r.a.createElement("div",{className:"wrap-input input-group label form-label mb-0"},r.a.createElement("input",{className:"input100 form-control","data-testid":"email-input","aria-label":"email",type:"email",name:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"div-input"},r.a.createElement("span",{className:"txt1"},"Password")),r.a.createElement("div",{className:"wrap-input input-group label form-label mb-0"},r.a.createElement("input",{className:"input100 form-control","data-testid":"password-input",type:"password",name:"password",onChange:this.handleChange})),r.a.createElement("button",{type:"button",disabled:!this.getDisabled(),onClick:this.handleClick},"Entrar"))))}}]),a}(r.a.Component);var C=Object(o.b)(null,(function(e){return{saveLogin:function(t){return e(function(e){return{type:"LOGIN",email:e}}(t))}}}))(j),O=a(29),x=a.n(O);var w=Object(o.b)((function(e){return{expenses:e.wallet.expenses}}),(function(e){return{setUpdateExpensesProp:function(t){return e(y(t))}}}))((function(e){var t=e.id,a=e.expenses,n=e.setUpdateExpensesProp;return r.a.createElement("button",{className:"btn",type:"button","data-testid":"delete-btn",onClick:function(){return function(e){var t=a.filter((function(t){return t.id!==e}));n(t)}(t)}},r.a.createElement("img",{src:x.a,alt:""}))})),k=a(30),N=a.n(k);var I=Object(o.b)((function(e){return{expenses:e.wallet.expenses}}))((function(e){var t=e.idExpense,a=e.expenses,n=e.dispatch;return r.a.createElement("button",{className:"btn",type:"button","data-testid":"edit-btn",onClick:function(){return e=t,void a.filter((function(t){return t.id===e})).forEach((function(e){var t=e.id,a=e.value,r=e.description,c=e.currency,l=e.method,i=e.tag,o=e.exchangeRates;n({type:"SET_OBJECT_TO_EDIT",objectToEdit:{id:t,value:a,description:r,currency:c,method:l,tag:i,exchangeRates:o}})}));var e}},r.a.createElement("img",{src:N.a,alt:""}))}));var S=Object(o.b)((function(e){return{expenses:e.wallet.expenses}}))((function(e){var t=e.expenses;return r.a.createElement("table",{className:"table table-success table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"Editar/Excluir"))),r.a.createElement("tbody",null,t.map((function(e){var t=e.id,a=e.value,n=e.description,c=e.currency,l=e.method,i=e.tag,o=e.exchangeRates,s=o[c].name,u=Number(o[c].ask).toFixed(2),m=Number(a*o[c].ask).toFixed(2);return r.a.createElement("tr",{key:t},r.a.createElement("td",null,a),r.a.createElement("td",null,s),r.a.createElement("td",null,u),r.a.createElement("td",null,m),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,i),r.a.createElement("td",null,r.a.createElement(I,{idExpense:t}),r.a.createElement(w,{id:t})))}))))}));var R=function(e){var t=e.props,a=t.email,n=t.expenses,c=0;return n.forEach((function(e){var t=e.currency;return t?c+=Number(e.value*e.exchangeRates[t].ask):null})),r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{"data-testid":"email-field"},a),r.a.createElement("p",{"data-testid":"total-field",className:"total-field"},"Despesa total:"," ",c.toFixed(2)," ",r.a.createElement("span",{"data-testid":"header-currency-field"},"BRL")))};var F=function(e){var t=e.objectInfos,a=e.handleChange,n=e.values,c=n.value,l=n.description;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"div-alinhar-verticalmente"},r.a.createElement("label",{htmlFor:"expenseAmount",className:"input-group label form-label input-group-sm mb-0"},"Valor:",r.a.createElement("input",{className:"form-control",name:"value",id:"expenseAmount",value:void 0!==t?t.value:c,"data-testid":"value-input",placeholder:"Valor da despesa",onChange:a}))),r.a.createElement("div",{className:"div-alinhar-verticalmente"},r.a.createElement("label",{htmlFor:"description",className:"input-group label form-label input-group-sm mb-0"},"Descri\xe7\xe3o:",r.a.createElement("input",{className:"form-control",name:"description",id:"description",value:void 0!==t?t.description:l,"data-testid":"description-input",placeholder:"Descri\xe7\xe3o da despesa",onChange:a}))))};var B=function(e){var t=e.arrCurrency,a=e.handleChange,n=e.values,c=n.currency,l=n.method,i=n.tag,o=e.objectInfos;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"currency",className:"input-group select w-auto"},"Moeda:",r.a.createElement("select",{className:"form-select form-select-sm mb-0",name:"currency",id:"currency",value:void 0!==o?o.currency:c,"data-testid":"currency-input",placeholder:"Moeda que ser\xe1 registrada a despesa",onChange:a},function(e){return e.map((function(e){return r.a.createElement("option",{"data-testid":e,key:e,value:e},e)}))}(t))),function(e,t,a){return r.a.createElement("label",{htmlFor:"method",className:"input-group select w-auto"},r.a.createElement("p",{className:"mb-0"},"M\xe9todo de pagamento:"),r.a.createElement("select",{className:"form-select form-select-sm mb-0",name:"method",id:"method",value:void 0!==e?e.method:t,"data-testid":"method-input",onChange:a},r.a.createElement("option",null,"Selecione"),r.a.createElement("option",null,"Dinheiro"),r.a.createElement("option",null,"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",null,"Cart\xe3o de d\xe9bito")))}(o,l,a),function(e,t,a){return r.a.createElement("label",{htmlFor:"tag",className:"input-group select w-auto"},"Tag:",r.a.createElement("select",{className:"form-select form-select-sm mb-0 ",name:"tag",id:"tag",value:void 0!==e?e.tag:t,"data-testid":"tag-input",onChange:a},r.a.createElement("option",null,"Alimenta\xe7\xe3o"),r.a.createElement("option",null,"Lazer"),r.a.createElement("option",null,"Trabalho"),r.a.createElement("option",null,"Transporte"),r.a.createElement("option",null,"Sa\xfade")))}(o,i,a))},T=(a(50),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={arrCurrency:[],value:"",method:"",currency:"USD"},e.handleChange=e.handleChange.bind(Object(E.a)(e)),e.handleClick=e.handleClick.bind(Object(E.a)(e)),e.getArrayExpenses=e.getArrayExpenses.bind(Object(E.a)(e)),e.getOptionsCurrency=e.getOptionsCurrency.bind(Object(E.a)(e)),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getOptionsCurrency()}},{key:"getArrayExpenses",value:function(){var e=Object(g.a)(f.a.mark((function e(){var t,a,n,r,c,l,i,o,s,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,a=t.getExpensesArray,n=t.expenses,r=this.state,c=r.value,l=r.description,i=r.currency,o=r.method,s=r.tag,u={id:n.length,value:c,description:l,currency:i,method:o,tag:s,exchangeRates:{}},this.setState({value:"",description:"",currency:"USD",method:"Selecione",tag:"Selecione"},(function(){return a(u)}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getOptionsCurrency",value:function(){var e=Object(g.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.arrCurrency,e.next=3,v();case 3:a=e.sent,Object.keys(a).forEach((function(e){return"USDT"!==e?t.push(e):null})),this.setState({arrCurrency:t});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(h.a)({},a,n))}},{key:"handleClick",value:function(){this.getArrayExpenses()}},{key:"render",value:function(){var e=this.state,t=e.value,a=e.description,n=e.currency,c=e.method,l=e.tag,i=e.arrCurrency;return r.a.createElement("section",{className:"container-form"},r.a.createElement("form",{className:"form-expenses align-middle"},r.a.createElement(F,{values:{value:t,description:a},handleChange:this.handleChange}),r.a.createElement(B,{arrCurrency:i,values:{currency:n,method:c,tag:l},handleChange:this.handleChange}),r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:this.handleClick,className:"btn btn-primary mb-0"},"Adicionar despesa"))))}}]),a}(n.Component)),G=Object(o.b)((function(e){return{expenses:e.wallet.expenses}}),(function(e){return{getExpensesArray:function(t){return e((a=t,function(){var e=Object(g.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:n=e.sent,a.exchangeRates=n,t(A(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()));var a}}}))(T),V=(a(51),a(7)),D={id:"",value:"",description:"",currency:"USD",method:"Selecione",tag:"Alimenta\xe7\xe3o",exchangeRates:{}},Q=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={objectInfos:D,arrCurrency:[]},e.setObjectInfo=e.setObjectInfo.bind(Object(E.a)(e)),e.getOptionsCurrency=e.getOptionsCurrency.bind(Object(E.a)(e)),e.handleChange=e.handleChange.bind(Object(E.a)(e)),e.handleClick=e.handleClick.bind(Object(E.a)(e)),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setObjectInfo()}},{key:"getOptionsCurrency",value:function(){var e=this.state.arrCurrency,t=this.props.objInfoForEditProp.exchangeRates;Object.keys(t).forEach((function(t){return"USDT"!==t?e.push(t):null})),this.setState({arrCurrency:e})}},{key:"setObjectInfo",value:function(){var e=this.props.objInfoForEditProp;return this.setState({objectInfos:e}),this.getOptionsCurrency(),this.state.objectInfos}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value,r=this.state.objectInfos;this.setState({objectInfos:Object(V.a)(Object(V.a)({},r),{},Object(h.a)({},a,n))})}},{key:"handleClick",value:function(){var e=this.props,t=e.expenses,a=e.dispatch,n=this.state.objectInfos,r=t.map((function(e){return e.id===n.id?n:e}));a(y(r))}},{key:"render",value:function(){var e=this.state,t=e.arrCurrency,a=e.objectInfos;return console.log(a,"render"),r.a.createElement("section",{className:"container-form"},r.a.createElement("form",{className:"form-expenses align-middle"},r.a.createElement(F,{objectInfos:a,values:{expenseAmount:D.value,description:D.description},handleChange:this.handleChange}),r.a.createElement(B,{arrCurrency:t,objectInfos:a,values:{},handleChange:this.handleChange}),r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:this.handleClick,className:"btn btn-primary mb-0"},"Editar despesa"))))}}]),a}(n.Component),U=Object(o.b)((function(e){return{objInfoForEditProp:e.wallet.objectToEdit,expenses:e.wallet.expenses}}))(Q),M=a(31),H=a.n(M),Y=a(32),P=a.n(Y),q=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.email,a=e.expenses,n=e.editForm;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"navbar navbar-expand-lg"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container-header-left"},r.a.createElement("img",{src:H.a,alt:"",width:"auto"}),r.a.createElement("h1",null,"TRYBEWALLET"),r.a.createElement("img",{src:P.a,alt:"",width:"auto"})),r.a.createElement("div",{className:"header-right"},r.a.createElement(R,{props:{email:t,expenses:a}})))),n?r.a.createElement(U,null):r.a.createElement(G,null))}}]),a}(n.Component),J=Object(o.b)((function(e){return{email:e.user.email,expenses:e.wallet.expenses,editForm:e.wallet.editForm}}))(q),K=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(J,null),r.a.createElement(S,null))}}]),a}(r.a.Component),X=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:C}),r.a.createElement(p.b,{path:"/carteira",component:K}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=a(15),W=a(33),z=a(34),Z={email:""};var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.email;switch(a){case"LOGIN":return Object(V.a)(Object(V.a)({},e),{},{email:n});default:return e}},$=a(36),ee={expenses:[],editForm:!1};var te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.expenses,r=t.updateForExpenses,c=t.objectToEdit,l=[].concat(Object($.a)(e.expenses),[n]);switch(a){case"GET_EXPENSES":return Object(V.a)(Object(V.a)({},e),{},{expenses:l});case"SET_UPDATE_EXPENSES":return Object(V.a)(Object(V.a)({},e),{},{expenses:r,editForm:!1});case"SET_OBJECT_TO_EDIT":return Object(V.a)(Object(V.a)({},e),{},{editForm:!0,objectToEdit:c});default:return e}},ae=Object(L.combineReducers)({user:_,wallet:te}),ne=Object(L.createStore)(ae,Object(W.composeWithDevTools)(Object(L.applyMiddleware)(z.a)));l.a.render(r.a.createElement(o.a,{store:ne},r.a.createElement(i.a,null,r.a.createElement(X,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.f409baab.chunk.js.map